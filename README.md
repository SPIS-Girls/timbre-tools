# Timbre Toys
### Timbre Tools Hackathon 2024

This repository contains source code and assets of the project made by **SPIS Girls** for Timbre Tools 2024 Hackathon.

## What is the project about?
### Inspiration
The project comes in the form of a Max Patch. It is a **timbre** manipulation tool that allows the users to interact with a timbre the same way they would interact with a physical object. The main inspiration behind the project was a sonic interaction and a live performance (_#sensingtimbre_, _#timbrecheck_, _#timbreforall_).

### Technical Overview
The way the audio is modified depends on a camera input. More specifically, the tool extracts visual properties of the live video feed from the webcam (color space, brightness, presence and a full spectogram). The intensity of the extracted features controls timbre-manipulating audio effects. Additionally, audio input is convolved with the camera input, adding unpredictable factor to the whole system.

Video feature extraction and FFT calculations are computed in a real-time JUCE plugin. The plugin is plugged into the MaxMSP Patch. In the patch, certain effects and their parameters are controlled by the values generated by the JUCE plugin.

| <figure style="display:flex;align-items:center"> <img src="/images/schema.jpg" alt="Project Schema" width="70%"></figure> | üèµÔ∏è - Predictable Timbre Componenets <br> ‚≠ê - Magic Frequency Computation |
| -------- | ------- |

## In-Depth Description

### Feature Extraction
#todo description
### MaxMSP
#todo description
### JUCE -> MaxMSP Communication
To make the extracted image features available within Max msp, the JUCE plugin gets loaded into max. It then outputs MIDI messages representing the various extracted features, which are then mapped to timbral audio effects in max.
### FFT Calculations
A simple prototype of the algorithm can be found in [python_test](/python_test) directory.
##### Video Capture  
Each incoming frame is first resized to size NxN (where N is a power of 2) and then its 2D FFT is calculated.
##### Audio Processing
In the audio processing loop, samples are grouped into blocks of size N. For each block its 1D FFT is calculated. Image FFT and audio FFT are then combined by running an element-wise multiplication. The resulting 2D signal is extracted by running 2D IFFT. To move from 2D to 1D, the sum of each column is calculated. The resulting 1D signal is then scaled to a range [-1;1] and multiplied by a Hann window of size N to minimize artifacts.  


## Meet The Team
We are a team of 5 from Sound and Music Computing, Aalborg University:
| Cumhur | Giacomo | Kate | Levin | Maria |
| -------- | ------- | ------- | ------- | ------- |
| <figure><img src="/images/C.png" width="100"></figure>  | <figure> <img src="/images/G.png" width="100"></figure> | <figure> <img src="/images/K.png" width="100"></figure> | <figure> <img src="/images/L.png" width="100"></figure> | <figure> <img src="/images/M.png" width="100"></figure> |

